name: Regression Tests

on:
  schedule:
    # Every Monday at 7 AM UTC
    - cron: '0 7 * * 1'
  workflow_dispatch:

concurrency:
  group: regression-${{ github.ref_name }}
  cancel-in-progress: true

permissions:
  id-token: write

jobs:
  regression-tests:
    name: Playwright Regression Tests
    uses: ./.github/workflows/e2e-test.yml
    with:
      base-url: 'https://mdctmfpval.cms.gov'
      test-filter: ''
      timeout-minutes: 90
      artifact-name-prefix: 'regression'
      continue-on-error: false
    secrets: inherit #pragma: allowlist secret
